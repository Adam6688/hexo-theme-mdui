<script>
  $.getJSON("<%= page.photos_json %>", function (photos_json) {
    $('#post-gallery').on('click', function() {
      $(this).lightGallery({
          dynamic: true,
          dynamicEl: photos_json,
          <%
          // gallery plugin setting
          %>
          <% if (page.mode) { %>
            mode: '<%= page.mode %>',
          <% } %>
          <% if (page.cssEasing) { %>
            cssEasing: '<%= page.cssEasing %>',
          <% } %>
          <% if (page.easing) { %>
            easing: '<%= page.easing %>',
          <% } %>
          <% if (page.speed) { %>
            speed: <%= page.speed %>,
          <% } %>
          <% if (page.height) { %>
            height: '<%= page.height %>',
          <% } %>
          <% if (page.width) { %>
            width: '<%= page.width %>',
          <% } %>
          <% if (page.addClass) { %>
            addClass: '<%= page.addClass %>',
          <% } %>
          <% if (page.startClass) { %>
            startClass: '<%= page.startClass %>',
          <% } %>
          <% if (page.backdropDuration) { %>
            backdropDuration: <%= page.backdropDuration %>,
          <% } %>
          <% if (page.hideBarsDelay) { %>
            hideBarsDelay: <%= page.hideBarsDelay %>,
          <% } %>
          <% if (page.useLeft === true) { %>
            useLeft: true,
          <% } %>
          <% if (page.closable === false) { %>
            closable: false,
          <% } %>
          <% if (page.loop === false) { %>
            loop: false,
          <% } %>
          <% if (page.escKey === false) { %>
            escKey: false,
          <% } %>
          <% if (page.keyPress === false) { %>
            keyPress: false,
          <% } %>
          <% if (page.controls === false) { %>
            controls: false,
          <% } %>
          <% if (page.slideEndAnimatoin === false) { %>
            slideEndAnimatoin: false,
          <% } %>
          <% if (page.hideControlOnEnd === true) { %>
            hideControlOnEnd: true,
          <% } %>
          <% if (page.mousewheel === false) { %>
            mousewheel: false, //bug
          <% } %>
          <% if (page.getCaptionFromTitleOrAlt === false) { %>
            getCaptionFromTitleOrAlt: false,
          <% } %>
          <% if (page.preload) { %>
            preload: <%= page.preload %>,
          <% } %>
          <% if (page.showAfterLoad === false) { %>
            showAfterLoad: false,
          <% } %>
          <% if (page.nextHtml) { %>
            nextHtml: '<%= page.nextHtml %>',
          <% } %>
          <% if (page.prevHtml) { %>
            prevHtml: '<%= page.prevHtml %>',
          <% } %>
          <% if (page.index) { %>
            index: <%= page.index %>,
          <% } %>
          <% if (page.iframeMaxWidth) { %>
            iframeMaxWidth: '<%= page.iframeMaxWidth %>',
          <% } %>
          <% if (page.download === false) { %>
            download: false,
          <% } %>
          <% if (page.counter === false) { %>
            counter: false,
          <% } %>
          <% if (page.appendCounterTo) { %>
            appendCounterTo: '<%= page.appendCounterTo %>',
          <% } %>
          <% if (page.swipeThreshold) { %>
            swipeThreshold: <%= page.swipeThreshold %>,
          <% } %>
          <% if (page.enableDrag === false) { %>
            enableDrag: false,
          <% } %>
          <% if (page.enableTouch === false) { %>
            enableTouch: false,
          <% } %>
          <%
          // thumbnial plugin settings
          %>
          <% if (page.thumbnail === false) { %>
            thumbnail: false,
          <% } %>
          <% if (page.animateThumb === false) { %>
            animateThumb: false,
          <% } %>
          <% if (page.currentPagerPosition) { %>
            currentPagerPosition: '<%= page.currentPagerPosition %>',
          <% } %>
          <% if (page.thumbWidth) { %>
            thumbWidth: <%= page.thumbWidth %>,
          <% } %>
          <% if (page.thumbContHeight) { %>
            thumbContHeight: <%= page.thumbContHeight %>,
          <% } %>
          <% if (page.thumbMargin) { %>
            thumbMargin: <%= page.thumbMargin %>,
          <% } %>
          <% if (page.showThumbByDefault === false) { %>
            showThumbByDefault: false,
          <% } %>
          <% if (page.toogleThumb === false) { %>
            toogleThumb: false,
          <% } %>
          <% if (page.pullCaptionUp === false) { %>
            pullCaptionUp: false,
          <% } %>
          <% if (page.enableThumbDrag === false) { %>
            enableThumbDrag: false,
          <% } %>
          <% if (page.enableThumbSwipe === false) { %>
            enableThumbSwipe: false,
          <% } %>
          <% if (page.swipeThreshold) { %>
            swipeThreshold: <%= page.swipeThreshold %>,
          <% } %>
          <% if (page.loadYoutubeThumbnail === false) { %>
            loadYoutubeThumbnail: false,
          <% } %>
          <% if (page.youtubeThumbSize) { %>
            youtubeThumbSize: <%= page.youtubeThumbSize %>,
          <% } %>
          <% if (page.loadVimeoThumbnail === false) { %>
            loadVimeoThumbnail: false,
          <% } %>
          <% if (page.vimeoThumbSize) { %>
            vimeoThumbSize: <%= page.vimeoThumbSize %>,
          <% } %>
          <% if (page.loadDailymotionThumbnail === false) { %>
            loadDailymotionThumbnail: false,
          <% } %>
          <%
          // autoplay plugin settings
          %>
          <% if (page.autoplay === false) { %>
            autoplay: false,
          <% } %>
          <% if (page.pause) { %>
            pause: <%= page.pause %>,
          <% } %>
          <% if (page.progressBar === false) { %>
            progressBar: false,
          <% } %>
          <% if (page.fourceAutoplay === true) { %>
            fourceAutoplay: true,
          <% } %>
          <% if (page.autoplayControls === false) { %>
            autoplayControls: false,
          <% } %>
          <% if (page.appendAutoplayControlsTo) { %>
            appendAutoplayControlsTo: '<%= page.appendAutoplayControlsTo %>',
          <% } %>
          <%
           /* video plugin setting
            * untested
            * no videojs supported
            */
          %>
          <% if (page.videoMaxWidth) { %>
            videoMaxWidth: '<%= page.videoMaxWidth %>',
          <% } %>
          <% if (page.youtubePlayerParams) { %>
            youtubePlayerParams: <%= page.youtubePlayerParams %>,
          <% } %>
          <% if (page.vimeoPlayerParams) { %>
            vimeoPlayerParams: <%= page.vimeoPlayerParams %>,
          <% } %>
          <% if (page.dailymotionPlayerParams) { %>
            dailymotionPlayerParams: <%= page.dailymotionPlayerParams %>,
          <% } %>
          <% if (page.vkPlayerParams) { %>
            vkPlayerParams: <%= page.vkPlayerParams %>,
          <% } %>
          <%
          // fullscreen plugin setting
          %>
          <% if (page.fullScreen === false) { %>
            fullScreen: false,
          <% } %>
          <%
          // zoom plugin settings
          %>
          <% if (page.zoom === false) { %>
            zoom: false,
          <% } %>
          <% if (page.scale) { %>
            scale: <%= page.speed %>,
          <% } %>
          <% if (page.enableZoomAfter) { %>
            enableZoomAfter: <%= page.enableZoomAfter %>,
          <% } %>
          <% if (page.actualSize === false) { %>
            actualSize: false,
          <% } %>
          <%
          // hash plugin setting
          %>
          <% if (page.hash === false) { %>
            hash: false,
          <% } %>
      })
    });
  });
</script>
